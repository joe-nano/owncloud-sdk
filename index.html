<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><p><a href="https://owncloud.github.io/owncloud-sdk/"><img src="https://img.shields.io/badge/api_docs-online-blue.svg" alt="docs"></a></p>
<h1>ownCloud JavaScript SDK</h1>
<p>Use this light-weight JS library with a promise-based interface for seamless communication with your ownCloud instance, both from the browser and from Node backends.</p>
<h2>Installation</h2>
<p>Run either</p>
<pre class="prettyprint source"><code>npm install owncloud-sdk
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>yarn add owncloud-sdk
</code></pre>
<p>to add the <code>owncloud-sdk</code> to your project.</p>
<p>If you haven't done so already, you also need to add the following <code>peerDependencies</code> to your dependencies:</p>
<pre class="prettyprint source"><code>npm install axios cross-fetch promise qs utf8 uuid webdav xml-js
</code></pre>
<p>or</p>
<pre class="prettyprint source"><code>yarn add axios cross-fetch promise qs utf8 uuid webdav xml-js
</code></pre>
<h2>Usage</h2>
<pre class="prettyprint source lang-js"><code>const owncloud = require('owncloud-sdk');
let oc = new owncloud({
      baseUrl: config.owncloudURL,
      auth: {
        basic: {
          username: config.username,
          password: config.password
        }
      }
});

// Login
oc.login().then(status => {
    // STUFF
}).catch(error => {
    // HANDLE ERROR
});

// Share File With Link
oc.shares.shareFileWithLink('linkToYourFile').then(shareInfo => {
    console.log(&quot;Link is : &quot; + shareInfo.getLink());
}).catch(error => {
    // HANDLE ERROR
});

// List all files
oc.files.list('/path/to/file/folder').then(files => {
    console.log(files);
}).catch(error => {
    console.log(error);
});
</code></pre>
<h2>Example Projects</h2>
<h3>ownCloud web</h3>
<p><a href="https://github.com/owncloud/web">ownCloud web</a> is the next generation web frontend for ownCloud.</p>
<h3>ownCloud file-picker</h3>
<p><a href="github.com/owncloud/file-picker">ownCloud file-picker</a> is an integration to access the files in your ownCloud, e.g. in a chat app.</p>
<h2>Documentation</h2>
<p>The full API documentation is available <a href="https://owncloud.dev/owncloud-sdk/">on the docs website</a>.</p>
<h3>Building the docs</h3>
<p>The docs are based on JSDocs.
To build them, run the following command and follow the instructions on the terminal:</p>
<pre class="prettyprint source"><code>yarn build:docs
</code></pre>
<h2>Unit/Integration tests</h2>
<h3>Overview</h3>
<p><code>owncloud-sdk</code> uses <a href="https://github.com/pact-foundation/pact-js">pactjs</a> with jest for unit and integration tests.</p>
<p>On the pact provider side, tests have 4 different <code>interactions</code>:</p>
<ul>
<li>interactions that work on both oc10 &amp; ocis</li>
<li>interactions that are &quot;pending&quot; on oc10 but should work on ocis</li>
<li>interactions that are &quot;pending&quot; on ocis but should work on oc10</li>
<li>interactions that are &quot;pending&quot; on both ocis &amp; oc10</li>
</ul>
<p>The CI is not expected to fail for the interactions that are &quot;pending&quot; but it's expected to fail for those interactions that were already verified and started failing. Pact.io has a system to handle such a scenario called <a href="https://docs.pact.io/pact_broker/advanced_topics/pending_pacts/" title="pending pacts">pending pacts</a>. This feature allows changed contracts to be verified without failing the provider's build.</p>
<p>Four different pacts for the different buckets of interactions are created when running the provider tests. Pacts that are allowed to fail are marked as <code>pending</code> else not.</p>
<p>In a consumer test, a new mock provider is created using the function <code>createProvider</code>. It takes two parameters: <code>pendingOnOc10</code> and <code>pendingOnOcis</code> in order. Each parameter can have value <code>true</code> or <code>false</code> depending upon which provider-version the test is still pending.</p>
<p>To add a new consumer test which is expected to fail on ocis but pass on oc10 provider, provider should be created as:</p>
<pre class="prettyprint source lang-js"><code>describe('feature', function () {
  it('new test feature', function () {
    const isPendingOnOc10 = true // set this as true if the test is allowed to fail on oc10 provider
    const isPendingOnOcis = false // set this as true if the test is allowed to fail on ocis provider
    const provider = createProvider(isPendingOnOc10, isPendingOnOcis)
    // get interactions
    // execute test
    provider.executeTest(() => {
      // test body
    })
  })
})
</code></pre>
<h3>Running tests</h3>
<p>At first, you need to create <code>config.json</code> file.</p>
<pre class="prettyprint source"><code>cp tests/config/config.sample.json tests/config/config.json
</code></pre>
<h3>Consumer tests</h3>
<p>The pact consumer tests checks owncloud sdk against the pact mock server. In order to run these tests, use the following command:</p>
<pre class="prettyprint source"><code>yarn test-consumer
</code></pre>
<blockquote>
<p>Note: If you have pacts from old test run in <code>tests/pacts</code> your tests will fail. Make sure to delete that before you run the tests again.</p>
</blockquote>
<h3>Provider tests</h3>
<p>The pact provider tests the pacts generated from the consumer tests against the real owncloud backend server. For this you will need an actual owncloud server running. Then you can run the pact tests with the following command:</p>
<pre class="prettyprint source"><code>PROVIDER_BASE_URL=&lt;owncloud-backend-url> yarn test-provider
</code></pre>
<h2>Credits</h2>
<p>This project was originally created by <a href="https://github.com/noveens">Noveen Sachdeva</a>, <a href="https://github.com/PVince81">Vincent Petry</a> and <a href="https://github.com/DeepDiver1975">Thomas MÃ¼ller</a> as part of the <a href="https://summerofcode.withgoogle.com/archive/2017/projects/5166409181036544">2017 Google Summer of Code</a>.</p>
<h2>License</h2>
<p>The ownCloud SDK is released under the <a href="https://github.com/owncloud/owncloud-sdk/blob/master/LICENSE.md">MIT License</a>.</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Apps.html">Apps</a></li><li><a href="FileInfo.html">FileInfo</a></li><li><a href="Files.html">Files</a></li><li><a href="FilesTrash.html">FilesTrash</a></li><li><a href="FilesVersions.html">FilesVersions</a></li><li><a href="Groups.html">Groups</a></li><li><a href="HttpError.html">HttpError</a></li><li><a href="module.exports_module.exports.html">exports</a></li><li><a href="ownCloud.html">ownCloud</a></li><li><a href="PublicFiles.html">PublicFiles</a></li><li><a href="Settings.html">Settings</a></li><li><a href="ShareInfo.html">ShareInfo</a></li><li><a href="Shares.html">Shares</a></li><li><a href="SystemTags.html">SystemTags</a></li><li><a href="Users.html">Users</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createHashedKey">createHashedKey</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Thu Jun 09 2022 10:36:46 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>